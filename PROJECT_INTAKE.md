# Project Intake Form

**Purpose:** Fill this document BEFORE starting development to provide AI agents with essential context
**Status:** ‚úÖ FILLED
**Migration Status:** [NOT MIGRATED]
**Last Updated:** 2025-11-25

---

## üéØ Project Overview

### 1. –ö–ª—é—á–µ–≤–∞—è –∏–¥–µ—è (Elevator Pitch)
**–û–ø–∏—à–∏—Ç–µ —Å—É—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ –û–î–ù–û–ú –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–∏:**

Event-Driven AI —Å–∏—Å—Ç–µ–º–∞ —Å –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–π —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–π –ø–∞–º—è—Ç—å—é (Memory as a Service), –∫–æ—Ç–æ—Ä–∞—è –ø–æ–º–Ω–∏—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ—à–ª—ã—Ö –¥–∏–∞–ª–æ–≥–æ–≤ –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –µ–≥–æ –¥–ª—è –±–æ–ª–µ–µ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤.

---

### 2. –ü—Ä–æ–±–ª–µ–º–∞ (The Problem)
**–ö–∞–∫—É—é –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –ø—Ä–æ–±–ª–µ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤—ã —Ä–µ—à–∞–µ—Ç–µ?**

–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ LLM –Ω–µ –∏–º–µ—é—Ç –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–π –ø–∞–º—è—Ç–∏ –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏. –ö–∞–∂–¥—ã–π –Ω–æ–≤—ã–π –¥–∏–∞–ª–æ–≥ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å —á–∏—Å—Ç–æ–≥–æ –ª–∏—Å—Ç–∞, —Ç–µ—Ä—è—è –≤–µ—Å—å –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –∫–∞–∂–¥—ã–π —Ä–∞–∑ –∑–∞–Ω–æ–≤–æ –æ–±—ä—è—Å–Ω—è—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç —Å–≤–æ–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤.

**–ü–æ—á–µ–º—É —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ä–µ—à–µ–Ω–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç?**

- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —á–∞—Ç-–±–æ—Ç—ã: –Ω–µ—Ç –ø–∞–º—è—Ç–∏ –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏
- Vector databases: —Ç—Ä–µ–±—É—é—Ç —Å–ª–æ–∂–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –Ω–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä—É—é—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏
- RAG —Å–∏—Å—Ç–µ–º—ã: –Ω–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è –¥–∏–∞–ª–æ–≥–æ–≤–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ä–µ—à–µ–Ω–∏—è: –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç event-driven –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏

---

### 3. –†–µ—à–µ–Ω–∏–µ (The Solution)
**–ö–∞–∫ –ò–ú–ï–ù–ù–û –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–µ—à–∞–µ—Ç —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É?**

MaaS —Ä–µ–∞–ª–∏–∑—É–µ—Ç –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—É—é —Å–∏—Å—Ç–µ–º—É –ø–∞–º—è—Ç–∏:
1. **raw_logs** - —Å—ã—Ä–æ–π –ª–æ–≥ –≤—Å–µ—Ö –¥–∏–∞–ª–æ–≥–æ–≤
2. **lsm_storage** - Long-term Semantic Memory —Å —Ç–µ–≥–∞–º–∏ –∏ summary
3. **Analyzer** - –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –Ω—É–∂–µ–Ω –ª–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏–∑ –ø–∞–º—è—Ç–∏
4. **Assembler** - —Å–æ–±–∏—Ä–∞–µ—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
5. **Archivist** - –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –∞—Ä—Ö–∏–≤–∏—Ä—É–µ—Ç –¥–∏–∞–ª–æ–≥–∏ –≤ LSM

**–ö–∞–∫—É—é —É–Ω–∏–∫–∞–ª—å–Ω—É—é —Ü–µ–Ω–Ω–æ—Å—Ç—å –≤—ã –¥–∞–µ—Ç–µ?**

- AI –ø–æ–º–Ω–∏—Ç –≤—Å–µ –ø—Ä–æ—à–ª—ã–µ –¥–∏–∞–ª–æ–≥–∏ –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç
- Event-driven –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏
- –ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å: –∫–∞–∂–¥—ã–π –∞–≥–µ–Ω—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º –∏ –∑–∞–º–µ–Ω—è–µ–º
- Hot-swap –ø—Ä–æ–º–ø—Ç–æ–≤ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞

---

### 4. –¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è (Target Audience)
**–î–ª—è –ö–û–ì–û –≤—ã —Å–æ–∑–¥–∞–µ—Ç–µ —ç—Ç–æ—Ç –ø—Ä–æ–¥—É–∫—Ç?**

–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ö–æ—Ç—è—Ç –ø–æ—Å—Ç—Ä–æ–∏—Ç—å AI-—Å–∏—Å—Ç–µ–º—É —Å –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–π –ø–∞–º—è—Ç—å—é.

**–ò—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- –í–æ–∑—Ä–∞—Å—Ç: 25-45
- –ü—Ä–æ—Ñ–µ—Å—Å–∏—è/—Ä–æ–¥ –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏: –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏, AI/ML –∏–Ω–∂–µ–Ω–µ—Ä—ã
- –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –≥—Ä–∞–º–æ—Ç–Ω–æ—Å—Ç—å: –≤—ã—Å–æ–∫–∞—è
- –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –ø–ª–∞—Ç–∏—Ç—å: freemium (free tier + –ø–ª–∞—Ç–Ω—ã–µ API calls)

---

## üë• User Personas (–ü–æ—Ä—Ç—Ä–µ—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)

### Persona 1: Developer Dave

```
–ò–º—è: Dave, 32 –≥–æ–¥–∞
–†–æ–ª—å: Full-stack —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫, —Å—Ç—Ä–æ–∏—Ç AI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
–õ–æ–∫–∞—Ü–∏—è: –£–¥–∞–ª–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞, –°–®–ê
```

**–¶–µ–ª–∏:**
–ü–æ—Å—Ç—Ä–æ–∏—Ç—å AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ –¥–ª—è —Å–≤–æ–µ–≥–æ —Å—Ç–∞—Ä—Ç–∞–ø–∞, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–Ω–∏—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç —Ä–∞–±–æ—Ç—ã —Å –∫–∞–∂–¥—ã–º –∫–ª–∏–µ–Ω—Ç–æ–º

**–ü—Ä–æ–±–ª–µ–º—ã (Pain Points):**
–ö–∞–∂–¥—ã–π —Ä–∞–∑ –ø—Ä–∏ –Ω–æ–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ –∫ GPT –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –∑–∞–Ω–æ–≤–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –≤–µ—Å—å –∫–æ–Ω—Ç–µ–∫—Å—Ç. –≠—Ç–æ –¥–æ—Ä–æ–≥–æ (—Ç–æ–∫–µ–Ω—ã) –∏ –Ω–µ—É–¥–æ–±–Ω–æ.

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ —Å —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è–º–∏:**
–ê–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç API, Docker, PostgreSQL. –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç self-hosted —Ä–µ—à–µ–Ω–∏—è.

---

### Persona 2: Researcher Rita (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```
–ò–º—è: Rita, 28 –ª–µ—Ç
–†–æ–ª—å: AI/ML –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å
–õ–æ–∫–∞—Ü–∏—è: –ë–µ—Ä–ª–∏–Ω, –ì–µ—Ä–º–∞–Ω–∏—è
```

**–¶–µ–ª–∏:**
–ò–∑—É—á–∏—Ç—å event-driven –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –¥–ª—è AI —Å–∏—Å—Ç–µ–º, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ reference implementation.

**–ü—Ä–æ–±–ª–µ–º—ã (Pain Points):**
–ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ AI –ø—Ä–æ–µ–∫—Ç–æ–≤ - –º–æ–Ω–æ–ª–∏—Ç—ã. –°–ª–æ–∂–Ω–æ –ø–æ–Ω—è—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –∏ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å.

---

## üó∫Ô∏è User Flows (–°—Ü–µ–Ω–∞—Ä–∏–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è)

### –ö–ª—é—á–µ–≤–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π 1: –ó–∞–ø—Ä–æ—Å —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø–∞–º—è—Ç–∏

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å —á–µ—Ä–µ–∑ HTTP POST /api/query
2. Request Handler —Å–æ–∑–¥–∞–µ—Ç –∑–∞–ø–∏—Å—å –≤ pipeline_runs (status=NEW)
3. Orchestrator –ø–æ–ª—É—á–∞–µ—Ç NOTIFY —Å–æ–±—ã—Ç–∏–µ
4. Analyzer –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å, –∏—â–µ—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤ LSM
5. Assembler —Å–æ–±–∏—Ä–∞–µ—Ç —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –ø—Ä–æ–º–ø—Ç —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
6. Final Responder –≤—ã–∑—ã–≤–∞–µ—Ç OpenAI API
7. –û—Ç–≤–µ—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ pipeline_runs (status=COMPLETED)
8. Logger –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –¥–∏–∞–ª–æ–≥ –≤ raw_logs
9. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –æ—Ç–≤–µ—Ç —Å —É—á–µ—Ç–æ–º –∏—Å—Ç–æ—Ä–∏–∏
```

---

### –ö–ª—é—á–µ–≤–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π 2: –ê—Ä—Ö–∏–≤–∞—Ü–∏—è –¥–∏–∞–ª–æ–≥–æ–≤ (—Ñ–æ–Ω–æ–≤—ã–π)

```
1. Archivist –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é (cron) –∏–ª–∏ –≤—Ä—É—á–Ω—É—é
2. –ß–∏—Ç–∞–µ—Ç raw_logs –∑–∞ –ø–µ—Ä–∏–æ–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–∞ –¥–µ–Ω—å)
3. –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –¥–∏–∞–ª–æ–≥–∏, –≤—ã–¥–µ–ª—è–µ—Ç –∫–ª—é—á–µ–≤—ã–µ —Ç–µ–º—ã
4. –°–æ–∑–¥–∞–µ—Ç LSM –∑–∞–ø–∏—Å—å —Å tags –∏ summary
5. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å—Å—ã–ª–∫–∏ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –ª–æ–≥–∏ (raw_log_ids)
6. LSM –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –±—É–¥—É—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ —á–µ—Ä–µ–∑ Analyzer
```

---

### –ö–ª—é—á–µ–≤–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Test Runner

```
1. –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç http://localhost:3000/test-runner
2. –í–∏–¥–∏—Ç —Å–ø–∏—Å–æ–∫ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
3. –ó–∞–ø—É—Å–∫–∞–µ—Ç —Å—Ü–µ–Ω–∞—Ä–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, "Simple Dialog")
4. Test Runner —Å–æ–∑–¥–∞–µ—Ç pipeline_runs –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞
5. –í–∏–¥–∏—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å –≤ UI (RUNNING ‚Üí PASSED/FAILED)
6. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —á—Ç–æ –≤—Å–µ –º–æ–¥—É–ª–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
```

---

## üõ†Ô∏è Technology Stack

### 4. Frontend Framework
**Selected:** Vanilla JS (—Ç–æ–ª—å–∫–æ –¥–ª—è Test Runner UI –≤ MVP). React + Vite –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è post-MVP.

---

### 5. Language
**Selected:** TypeScript (strict mode)

---

### 6. Styling Solution
**Selected:** Plain CSS (–¥–ª—è Test Runner). TailwindCSS –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –¥–ª—è frontend post-MVP.

---

### 7. Backend / Database

**Backend approach:**
**Selected:** Custom backend (Node.js + Express + TypeScript)

**Database type:**
**Selected:** PostgreSQL (Supabase managed)

---

### 8. Authentication

**Selected:** No auth –¥–ª—è MVP (backend-only). Supabase Auth –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è post-MVP.

---

### 9. Hosting / Deployment

**Selected:** Self-hosted / Local development –¥–ª—è MVP. Vercel/Railway –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –¥–ª—è production.

---

## ‚ú® Core Features (MVP)

### 10a. –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–í–∞—à–∞ —Ü–µ–Ω–Ω–æ—Å—Ç—å)

**Priority order (most important first):**

1. **Event-Driven Pipeline** - PostgreSQL LISTEN/NOTIFY –¥–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏ –º–æ–¥—É–ª–µ–π
2. **Long-term Semantic Memory (LSM)** - —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–∂–∞—Ç—ã—Ö summary —Å —Ç–µ–≥–∞–º–∏
3. **Analyzer Agent** - –∞–Ω–∞–ª–∏–∑ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –ø–æ–∏—Å–∫ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
4. **Assembler Agent** - —Å–±–æ—Ä–∫–∞ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
5. **Archivist Agent** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏–≤–∞—Ü–∏—è –¥–∏–∞–ª–æ–≥–æ–≤ –≤ LSM
6. **Test Runner** - UI –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Å–µ–≥–æ pipeline

**–ö–∞–∫—É—é —É–Ω–∏–∫–∞–ª—å–Ω—É—é —Ü–µ–Ω–Ω–æ—Å—Ç—å –¥–∞—é—Ç —ç—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏?**

AI —Å–∏—Å—Ç–µ–º–∞ –∫–æ—Ç–æ—Ä–∞—è –ø–æ–º–Ω–∏—Ç –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ—à–ª—ã—Ö –¥–∏–∞–ª–æ–≥–æ–≤. –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–º–µ–Ω—è—Ç—å/—É–ª—É—á—à–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –±–µ–∑ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏—è –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã.

---

### 10b. –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (Ready-to-use)

**–í—ã–±—Ä–∞–Ω–Ω—ã–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**

- **LLM API** - OpenAI API (gpt-4o-mini –¥–ª—è Analyzer/Archivist, gpt-4o –¥–ª—è Final Responder)
- **Database** - Supabase (PostgreSQL managed —Å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–º tier)
- **HTTP Server** - Express.js

---

### 11. User Roles

**Selected:** No roles –¥–ª—è MVP (single user system)

Post-MVP –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è:
- Admin - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞–º–∏, –ø—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- User - —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –∑–∞–ø—Ä–æ—Å—ã (RLS –≤ Supabase)

---

## üìä Data Structure

### 12. Main Entities (Database Tables)

```
pipeline_runs (State Machine)
  - id (UUID), user_id (UUID), user_query (TEXT)
  - status (VARCHAR): NEW ‚Üí ANALYZING ‚Üí ANALYZED ‚Üí ASSEMBLING ‚Üí READY ‚Üí RESPONDING ‚Üí COMPLETED
  - analysis_result (JSONB), final_context_payload (TEXT), final_answer (TEXT)
  - error_message (TEXT), created_at, updated_at

lsm_storage (Long-term Semantic Memory)
  - id (UUID)
  - time_bucket_start (DATE), time_bucket_end (DATE)
  - tags (TEXT[]), summary (TEXT)
  - raw_log_ids (UUID[])
  - created_at

system_prompts (Agent Prompts)
  - role_name (VARCHAR PK): Analyzer, Assembler, Archivist, FinalResponder
  - prompt_template (TEXT), is_active (BOOLEAN), version (INTEGER)
  - updated_at

raw_logs (Inference Log)
  - id (UUID), user_id (UUID)
  - message_type (VARCHAR): user_query, assistant_response
  - content (TEXT), metadata (JSONB)
  - created_at

test_dialogs (Test Scenarios)
  - id (UUID), scenario_id (UUID), step (INTEGER)
  - user_query (TEXT), expected_keyword (TEXT)
  - metadata (JSONB), created_at

test_runs (Test Results)
  - id (UUID), scenario_id (UUID), step (INTEGER)
  - pipeline_run_id (UUID FK), status (VARCHAR)
  - final_answer (TEXT), validation_result (JSONB)
  - error_message (TEXT), created_at, completed_at
```

---

### 13. Relationships

- One User can have many pipeline_runs (1:N)
- One pipeline_run creates one entry in raw_logs for query and one for response (1:2)
- One LSM record references many raw_logs (1:N via raw_log_ids array)
- One test_scenario has many test_dialogs steps (1:N)
- One test_run references one pipeline_run (1:1)

---

## üîå External Integrations

### 14. Third-Party Services

**Selected integrations:**
- **OpenAI API** - LLM –¥–ª—è –≤—Å–µ—Ö –∞–≥–µ–Ω—Ç–æ–≤ (gpt-4o-mini, gpt-4o)
- **Supabase** - Managed PostgreSQL —Å LISTEN/NOTIFY support

---

### 15. API Requirements

**Selected:** Yes, REST API

**–û–ø–∏—Å–∞–Ω–∏–µ:**
- POST /api/query - —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å
- GET /api/test/scenarios - —Å–ø–∏—Å–æ–∫ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- POST /api/test/run/:scenario_id - –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç
- GET /api/test/runs/:scenario_id - —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∞

---

## üé® UI/UX Requirements

### 16. Design Reference

- Terminal/CLI aesthetic –¥–ª—è Test Runner (green on black)
- –ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π, —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π UI

---

### 17. Design Assets Available?

**Selected:** No, AI should propose basic UI (—É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –¥–ª—è Test Runner)

---

### 18. Responsive Requirements

**Selected:** Desktop only –¥–ª—è MVP. Responsive –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è post-MVP.

---

## üîê Security & Compliance

### 19. Security Requirements

**Selected:**
- [x] Standard web security (XSS, CSRF protection)
- [ ] GDPR compliance - –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è post-MVP

---

### 20. Data Privacy

**Selected:** Any region (no restrictions) –¥–ª—è MVP

---

## üìà Scale & Performance

### 21. Expected Scale

**Selected:** < 100 users (prototype/MVP)

---

### 22. Performance Requirements

- Orchestrator response to NOTIFY: < 10ms
- Analyzer processing: < 3 seconds
- Full pipeline (query to answer): < 30 seconds
- Test Runner UI updates: real-time polling every 1s

---

## üí∞ Budget & Timeline

### 23. Development Timeline

**Selected:** 1-2 weeks –¥–ª—è MVP (32-48 hours estimated)

---

### 24. Budget Constraints

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å free tier –≤–µ–∑–¥–µ –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ:
- Supabase free tier (500MB database)
- OpenAI pay-as-you-go (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã –Ω–∞ —Ç–µ—Å—Ç—ã)

---

## üîÑ Development Approach

### 25a. –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

**Selected:** –î–∞, –º–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ!)

**–ú–æ–¥—É–ª–∏:**
1. Request Handler
2. Logger
3. Orchestrator
4. Analyzer
5. Assembler
6. Final Responder
7. Archivist
8. Test Runner

–ö–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –Ω–µ–∑–∞–≤–∏—Å–∏–º, –∏–º–µ–µ—Ç —á–µ—Ç–∫–∏–π –≤—Ö–æ–¥/–≤—ã—Ö–æ–¥, —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ.

---

### 25b. Development Style

**Selected:** Iterative - build feature by feature

**–ö–∞–∫ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º:**
Test-First –ø–æ–¥—Ö–æ–¥. Test Runner —Å—Ç—Ä–æ–∏—Ç—Å—è –ø–µ—Ä–≤—ã–º, –∑–∞—Ç–µ–º –∫–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∏ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ Test Runner –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ—Ö–æ–¥–æ–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É.

---

### 26. Testing Requirements

**Selected:**
- [x] Manual testing only (—á–µ—Ä–µ–∑ Test Runner UI)
- [ ] Unit tests - –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è post-MVP

---

## üìö Reference Materials

### 27. Similar Projects

–ù–µ—Ç –ø—Ä—è–º—ã—Ö –∞–Ω–∞–ª–æ–≥–æ–≤. –í–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ:
- LangChain memory modules
- LlamaIndex document stores
- PostgreSQL LISTEN/NOTIFY patterns

---

### 28. Existing Codebase

**Selected:** Existing codebase to extend
- Location: /Users/alexeykrolmini/Downloads/Code/MaaS2
- What needs to be added: –®–∞–≥–∏ 3-11 –ø–æ BACKLOG.md

---

## üéØ Success Criteria

### 29. MVP Definition of Done

- [x] Database schema created (6 tables + triggers)
- [x] Test Runner working (mock mode)
- [ ] Orchestrator listens to NOTIFY events
- [ ] Agent stubs change statuses correctly
- [ ] Full pipeline works end-to-end with stubs
- [ ] Analyzer calls OpenAI and returns real analysis
- [ ] Assembler builds context correctly
- [ ] Final Responder returns real LLM answers
- [ ] Archivist creates LSM records
- [ ] Test scenarios pass with real implementations
- [ ] Error handling and retries work

---

### 30. Post-MVP Plans

- Frontend (React + Vite + Supabase SDK)
- Authentication (Supabase Auth)
- Realtime UI updates
- History & Search
- Admin Panel
- Mobile responsive
- Production deployment

---

## üìù Additional Notes

### 31. Special Requirements or Constraints

- MVP is backend-only (no frontend except Test Runner)
- PostgreSQL LISTEN/NOTIFY is critical - cannot use other DBs
- Supabase chosen for managed PostgreSQL with free tier
- OpenAI API used for all LLM calls (no local models)
- Event-driven architecture - –º–æ–¥—É–ª–∏ –æ–±—â–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –ë–î, –Ω–µ –Ω–∞–ø—Ä—è–º—É—é

---

## ‚úÖ Completion Checklist

**Before starting development, ensure:**

- [x] All sections marked with [–û–¢–í–ï–¢–ò–¢–¨] are filled
- [x] Technology stack is clearly defined
- [x] MVP features are prioritized
- [x] Data structure is outlined
- [x] Reference materials are provided (if any)
- [x] This file is committed to git
- [x] BACKLOG.md is updated with initial features
- [x] ARCHITECTURE.md is updated with tech stack

---

## üìã Template Version

**Version:** 2.0 (Filled for MaaS MVP)
**Last Updated:** 2025-11-25
**Maintained by:** AI Agent + Project Lead

---

*This intake form ensures AI agents have all necessary context to start development efficiently*
