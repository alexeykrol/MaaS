# Идеи для пост-MVP (можно подключать после «машина поехала»)

- Безопасность и доступ: auth для API, хранение секретов (LLM keys), rate limits на пользователя.
- Наблюдаемость: единый формат логов, метрики по стадиям (latency, error/retry rate), алерты на FAILED или потерю LISTEN.
- Версионирование: версии промптов и миграций БД, схема как код, процесс обновления промптов без деплоя.
- Токен-бюджет: лимиты на Analyzer/FinalResponder, политика усечения контекста, max длина raw_log.
- Масштабирование: несколько воркеров Orchestrator, конкуренция за задачи (capture), параметры backoff, очереди при нагрузке.
- Retention и бэкапы: TTL для raw_logs/pipeline_runs, компакт/архив LSM, бэкап БД.
- Тесты: юнит на идемпотентный захват, интеграционный проход статусов, фикстуры LSM/seed, smoke для API.
- API и клиент: CORS, схема ошибок, защита от флуда (rate limit).
- Архивариус: группировка логов (по user_id/окну), идемпотентность (маркер обработанных), расписание/канарейка.
- Конфигурация: .env параметры (LLM per роль, timeout/retry, reconnect LISTEN), профили для dev/prod.
